{{define "app-body"}}
<div id="profile-edit">
  <div class="grid-container">

    <div class="acourse-card acourse-segment acourse-block-bigger col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">

      <div class="acourse-header _color-main _align-center">
        Edit Profile
      </div>

      <form method="POST" enctype="multipart/form-data">
        {{xsrf "profile/edit"}}
        <div class="acourse-block _flex-row _main-center">
          <img id="avatar" class="acourse-circle -large _img-cover" src="{{.Page.Me.Image}}" onerror="this.src = '/~/img/placeholder-img.svg'">
        </div>
        <div class="input-field _flex-column">
          <label>Image</label>
          <div class="_flex-row">
            <label class="acourse-button -info _font-sub" for="image-input">Upload Avatar</label>
            <input id="image-input" class="_hide" name="Image" type="file" accept="image/*">
          </div>
        </div>
        <div class="input-field _flex-column">
          <label>Username</label>
          <input class="acourse-input" name="Username" value="{{.Page.Flash.Get "Username"}}">
        </div>
        <div class="input-field _flex-column">
          <label>Name</label>
          <input class="acourse-input" name="Name" value="{{.Page.Flash.Get "Name"}}">
        </div>
        <div class="input-field _flex-column">
          <label>About Me</label>
          <input class="acourse-input" name="AboutMe" value="{{.Page.Flash.Get "AboutMe"}}">
        </div>

        <div class="acourse-block-big _flex-row _main-center">
          <button class="acourse-button -primary _font-sub _full-width" type="submit">
            Save Profile
          </button>
        </div>

        {{if .Page.Flash.Errors}}
          <div class="acourse-message -error">
            <ul>
              {{range .Page.Flash.Errors}}
                <li>{{.}}</li>
              {{end}}
            </ul>
          </div>
        {{end}}

      </form>
      <div class="_flex-row _main-center">
        <a class="_color-sub" href="/profile">View Profile</a>
      </div>
    </div>
  </div>
</div>
{{end}}

{{define "app-script"}}
<script>
  bindFileInputImage(document.querySelector('#image-input'), document.querySelector('#avatar'))
</script>
{{end}}

{{define "app-style"}}
<style>
  #profile-edit {
    z-index: 1;
    padding-top: 32px;
    min-height: calc(100vh - 236px);
  }
</style>
{{end}}
